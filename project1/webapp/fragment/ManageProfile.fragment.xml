<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout"
    xmlns:f="sap.f" xmlns:layout="sap.ui.layout"
    xmlns:g="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:m="sap.m">

<Dialog id="profileDialog"
    horizontalScrolling="false"
    verticalScrolling="true"
    contentWidth="1000px"
    contentHeight="500px"
    resizable="true"
    draggable="true">

    <!-- HEADER -->
    <customHeader>
        <Bar class="profileHeaderBar">
            <contentMiddle>
                <Title text="My Account" level="H4" />
            </contentMiddle>
            <contentRight>
                <Button type="Reject" text="Logout" press="onProfileDialogClose" />
                <Button icon="sap-icon://decline" type="Transparent" press="onProfileclose" />
            </contentRight>
        </Bar>
    </customHeader>

    <VBox class="profileMainContainer sapUiSmallMargin">
    
        <!-- PROFILE CARD -->
      <f:Card class="profileCard">
    <f:content>

        <m:FlexBox
            busyIndicatorDelay="0"
            wrap="Wrap"
            alignItems="Center"
            fitContainer="true"
            class="profileTopBox">

            <!-- Avatar -->
            <m:Avatar
                class="sapUiMediumMarginEnd sapUiTinyMarginBottom sapUiTinyMarginBegin"
                displayShape="Circle"
                displaySize="XL"
                src="{profileData>/photo}"
                initials="{profileData>/initials}" />

            <!-- COLUMN 1 -->
            <layout:VerticalLayout class="sapUiTinyMarginBegin sapUiTinyMarginEnd sapUiTinyMarginBottom">

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="Name :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/name}" />
                </layout:HorizontalLayout>

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="DOB :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/dob}" />
                </layout:HorizontalLayout>

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="Gender :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/gender}" />
                </layout:HorizontalLayout>

            </layout:VerticalLayout>

            <!-- COLUMN 2 -->
            <layout:VerticalLayout class="sapUiTinyMarginBegin sapUiTinyMarginEnd sapUiTinyMarginBottom">

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="Mobile :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/phone}" />
                </layout:HorizontalLayout>

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="Email :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/email}" />
                </layout:HorizontalLayout>

                <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd sapUiTinyMarginBottom">
                    <m:Label text="Address :" />
                    <m:Text class="sapUiTinyMarginBegin" text="{profileData>/address}" />
                </layout:HorizontalLayout>

            </layout:VerticalLayout>

        </m:FlexBox>

    </f:content>
</f:Card>



        <!-- BOOKING HISTORY -->
       <Table 
       mode="SingleSelectLeft"
    id="IdProfileaTable"
    items="{
        path: 'profileData>/bookings',
        sorter: [
           {
        path: 'bookingGroup',
        descending: false,
        group: true
    },
    {
        path: 'Startdate',
        descending: true
    }
        ]
    }">
        <headerToolbar>
            <OverflowToolbar>
						<Title text="Booking History ({=${profileData>/bookings}.length})" />
						<ToolbarSpacer />
						 <Button text="Delete"  press="onDeleteBooking" type="Emphasized"/>
					</OverflowToolbar>
        </headerToolbar>

        <columns>
            <Column><Text text="Customer Name"/></Column>
            <Column><Text text="Start Date"/></Column>
            <Column><Text text="Room"/></Column>
            <Column><Text text="Amount"/></Column>
            <Column><Text text="Status"/></Column>

        </columns>

        <items>
            <ColumnListItem type="Navigation" press="onPressBookingRow">
                <cells>
                    <Text text="{profileData>customerName}"/>
                    <Text text="{path:'profileData>Startdate'}"/>
                    <Text text="{profileData>room}"/>
                    <Text text="{path:'profileData>amount', formatter: '.Formatter.formatCurrency'}"/>
                    <Text text="{path:'profileData>status'}"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>

    </VBox>

</Dialog>
</core:FragmentDefinition>
