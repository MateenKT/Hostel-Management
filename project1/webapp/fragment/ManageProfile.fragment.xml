<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout">
  <Dialog id="profileDialog" horizontalScrolling="false" verticalScrolling="true" contentWidth="560px" contentHeight="550px" class="profile-dialog-bg" xmlns:f="sap.ui.layout.form" stretch="true">
  <customHeader>
    <Bar>
      <contentMiddle>
        <Title text="My Account" />
      </contentMiddle>
      <contentRight>
        <Button type="Transparent" icon="sap-icon://decline" press="onProfileDialogClose"/>
      </contentRight>
    </Bar>
  </customHeader>
    <VBox>
      <!-- Header with background -->
      <HBox class="profile-header-bg" width="100%">
        <VBox justifyContent="Center" alignItems="Start" width="100%">
          <HBox alignItems="Center" class="sapUiMediumMargin">
            <Avatar src="{profileData>/photo}" initials="{profileData>/initials}" displaySize="XL" class="profile-avatar"/>
            <VBox alignItems="Start" class="sapUiSmallMarginBegin">
              <Title text="{profileData>/name}" level="H2"/>
              <HBox>
                <Text text="{profileData>/phone}" class="profile-contact-text" />
                <Text text="  |  " />
                <Text text="{profileData>/email}" class="profile-contact-text" />
              </HBox>
            </VBox>
          </HBox>
        </VBox> 
      </HBox>
      <VBox>
  <HBox height="100%">
    <!-- Sidebar list (Keep as is) -->
    <VBox width="200px" class="profile-sidebar">
      <List mode="None" noDataText="" items="{profileMenuModel>/items}" showSeparators="None" itemPress=".SectionPress">
        <StandardListItem title="{profileMenuModel>title}" icon="{profileMenuModel>icon}" type="Active"/>
      </List>
    </VBox>
    <!-- Main Profile Content -->
    <VBox class="sapUiContentPadding" width="100%" height="100%">
      <!-- My Profile Section (visible if section is 'profile') -->
      <VBox visible="{= ${profileSectionModel>/selectedSection} === 'profile' }">
        <Title text="General Information" level="H3"/>
        <f:SimpleForm editable="true" layout="ColumnLayout">
          <!-- All Profile Input Fields -->
          <Label text="First Name"/>
          <Input value="{profileData>/name}"/>
          <Label text="Last Name"/>
          <Input value="{profileData>/lastName}"/>
          <Label text="Gender"/>
          <Select selectedKey="{profileData>/gender}">
            <core:Item key="MALE" text="MALE"/>
            <core:Item key="FEMALE" text="FEMALE"/>
          </Select>
          <Label text="Date of Birth"/>
          <DatePicker value="{profileData>/DateofBirth}"/>
          <Label text="Nationality"/>
          <Input value="{profileData>/nationality}"/>
        </f:SimpleForm>
      </VBox>
      <!-- Booking History Section (visible if section is 'devices') -->
      <VBox visible="{= ${profileSectionModel>/selectedSection} === 'devices' }">
    <Title text="Booking History" level="H3"/>

    <Table items="{profileData>/bookings}" mode="SingleSelectLeft" id="IdProfileaTable">
        <headerToolbar>
            <Toolbar>
                <ToolbarSpacer/>
                <Button 
                    text="Edit"
                    icon="sap-icon://edit"
                    press="onEditBooking"
                    type="Emphasized"/>
            </Toolbar>
        </headerToolbar>

        <columns>
            <Column><Text text="Booking Date"/></Column>
            <Column><Text text="Room"/></Column>
            <Column><Text text="Amount"/></Column>
            <Column><Text text="Status"/></Column>
        </columns>

        <items>
            <ColumnListItem>
                <cells>
                    <Text text="{profileData>Startdate}"/>
                    <Text text="{profileData>room}"/>
                    <Text text="{profileData>amount}"/>
                    <Text text="{profileData>status}"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</VBox>

   
    </VBox>
  </HBox>
</VBox>

    </VBox>
  </Dialog>
</core:FragmentDefinition>
