<core:FragmentDefinition
     xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
>
    <Dialog
        id="editFacilityDialog"
        title="Edit Facility"
        afterClose=".onEditDialogClose"
    >
      <f:SimpleForm
            editable="true"
            layout="ResponsiveGridLayout"
            labelSpanXL="4"
            labelSpanL="3"
            labelSpanM="4"
            labelSpanS="12"
            columnsXL="2"
            columnsL="2"
            columnsM="1"
        >
  <f:content>
    <!-- Facility Name -->
    <Label text="Facility Name" />
    <ComboBox
        id="editFacilityName"
        placeholder="Select Facility"
        items="{Facilities>/}"
        value="{edit>/FacilityName}"
        change="onFacilityChange"
        width="100%"
        valueStateText="{i18n>selectRateType}">
        <core:Item key="{Facilities>FacilityName}" text="{Facilities>FacilityName}" />
    </ComboBox>

    <!-- Unit Type -->
    <Label text="Unit Type" required="true" />
    <ComboBox
        id="idUnitType"
        visible="false"
        placeholder="Select Unit Type"
        items="{RateType>/}"
        value="{edit>/UnitText}"
        change="onUnitTextChange"
        width="100%"
        valueStateText="{i18n>selectRateType}">
        <core:Item key="{RateType>RateType}" text="{RateType>RateType}" />
    </ComboBox>

    <!-- Facility Price -->
    <Label text="Facility Price (â‚¹)" />
    <Input
        id="editPrice"
        value="{edit>/Price}"
        type="Number"
        editable="false" />

    <!-- Currency -->
    <Label text="Currency" required="true" />
    <ComboBox
        enabled="false"
        id="FU_id_Currency"
        selectedKey="{edit>/Currency}"
        items="{CurrencyModel>/}"
        valueStateText="Select Currency"
        width="100%"
        change=".onCurrecnyChange"
        placeholder="Select Currency">
        <core:Item key="{CurrencyModel>currency}" text="{CurrencyModel>currency}" />
    </ComboBox>
    <Label text="Start Time" required="true" />

  <TimePicker
        id="editStartTime"
        value="{edit>/StartTime}"
        change="onEditTimeChange"
          visible="{= ${edit>/UnitText} === 'Per Hour'}"  


     />
    <Label text="End Time" required="true" />

      <TimePicker
        id="editEndTime"
        value="{edit>/EndTime}"
        change="onEditTimeChange"
          visible="{= ${edit>/UnitText} === 'Per Hour'}" 


     />
      <Label text="Hours" />
    <Input
        id="editHours"
        value="{edit>/Hours}"
        editable="false"
             visible="{= ${edit>/UnitText} === 'Per Hour'}" 
  />

    <!-- Start Date -->
    <Label text="Start Date" />
    <DatePicker
        id="editStartDate"
        value="{edit>/StartDate}"
        displayFormat="dd/MM/yyyy"
        valueFormat="yyyy-MM-dd"
        change="onEditDateChange"
        
     />

     <Label 
    text="How many Month/Year"  
    visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }" 
/>

        <Select
        id="idMonthYearSelect"
    width="100%"
    visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }"
    selectedKey="{
        = ${edit>/UnitText} === 'Per Month' 
            ? ${edit>/TotalMonths} 
            : ${edit>/TotalYears}
    }"
       change=".onMonthYearChange"
>
    <core:Item key="1" text="1" />
    <core:Item key="2" text="2" />
    <core:Item key="3" text="3" />
    <core:Item key="4" text="4" />
    <core:Item key="5" text="5" />
    <core:Item key="6" text="6" />
    <core:Item key="7" text="7" />
    <core:Item key="8" text="8" />
    <core:Item key="9" text="9" />
    <core:Item key="10" text="10" />
    <core:Item key="11" text="11" />
</Select>

    <!-- End Date -->
    <Label text="End Date" />
    <DatePicker
        id="editEndDate"
        editable="{= ${edit>/UnitText} !== 'Per Month' &amp;&amp; ${edit>/UnitText} !== 'Per Year' }"
        value="{path:'edit>/EndDate'}"
        displayFormat="dd/MM/yyyy"
        valueFormat="yyyy-MM-dd"
        change="onEditDateChange"
  />

        
         


    <!-- Days -->
    <Label text="Days" />
    <Input
        id="editDays"
        value="{edit>/TotalDays}"
        editable="false" />
     </f:content>
</f:SimpleForm>


        <buttons>
            <Button
                text="Save"
                press=".onEditFacilitySave"
                type="Emphasized"
            />
            <Button
                text="Cancel"
                press="onEditDialogClose"
            />
        </buttons>
    </Dialog>
</core:FragmentDefinition>
