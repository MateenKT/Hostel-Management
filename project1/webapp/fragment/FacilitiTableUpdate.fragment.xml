<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Dialog
        id="editFacilityDialog"
        title="Edit Facility"
        afterClose=".onEditDialogClose">

        <content>
            <VBox class="sapUiSmallMargin">

                <Label text="Facility Name" />
                <Input id="editFacilityName" value="{edit>/FacilityName}" editable="false" />
                <Label text="Unit Type" required="true" />

                <ComboBox editable="false" id="idUnitType" placeholder="Select Unit Type"  items="{RateType>/}" 
                value="{edit>/UnitText}" change="onUnitTextChange" width="100%" valueStateText="{i18n>selectRateType}">
                     <core:Item key="{RateType>ID}" text="{RateType>RateType}" />
                </ComboBox>

                <Label text="Facility Price (â‚¹)" />
                <Input id="editPrice" value="{edit>/Price}" type="Number" editable="false" />

                <Label text="Currency" required="true" />
                <ComboBox
                    enabled="false"
                    id="FU_id_Currency"
                    selectedKey="{edit>/Currency}"
                    items="{CurrencyModel>/}"
                    valueStateText="Select Currency"
                    width="100%"
                    change=".onCurrecnyChange"
                    placeholder="Select Currency"
                >
                    <core:Item
                        key="{CurrencyModel>currency}"
                        text="{CurrencyModel>currency}"
                    />
                </ComboBox>

               <Label text="How many Month/Year"  visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }" />

<Select
    selectedKey="{= ${edit>/UnitText} === 'Per Month' 
                    ? ${edit>/TotalMonths} 
                    : ${edit>/TotalYears} }"
    change="onMonthSelectionChange"
    visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }"
>
    <core:Item key="1" text="1" />
    <core:Item key="2" text="2" />
    <core:Item key="3" text="3" />
    <core:Item key="4" text="4" />
    <core:Item key="5" text="5" />
    <core:Item key="6" text="6" />
    <core:Item key="7" text="7" />
    <core:Item key="8" text="8" />
    <core:Item key="9" text="9" />
    <core:Item key="10" text="10" />
    <core:Item key="11" text="11" />
    <core:Item key="12" text="12" />
</Select>

                <Label text="Start Date" />
                <DatePicker id="editStartDate" value="{edit>/StartDate}" displayFormat="dd/MM/yyyy" valueFormat="yyyy-MM-dd" change="onEditDateChange" />

                <Label text="End Date" />
                <DatePicker id="editEndDate" editable="{= ${edit>/UnitText} !== 'Per Month' &amp;&amp; ${edit>/UnitText} !== 'Per Year' }"  value="{path:'edit>/EndDate'}" displayFormat="dd/MM/yyyy" valueFormat="yyyy-MM-dd" change="onEditDateChange"  />

                <Label text="Days" />
                <Input id="editDays" value="{edit>/TotalDays}" editable="false" />
            </VBox>
        </content>

        <buttons>
            <Button text="Save" press=".onEditFacilitySave" type="Emphasized" />
            <Button text="Cancel" press="onEditDialogClose" />
        </buttons>
    </Dialog>
</core:FragmentDefinition>
