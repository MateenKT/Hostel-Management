<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Dialog
        id="editFacilityDialog"
        title="Edit Facility"
        afterClose=".onEditDialogClose">
        <content>
            <VBox class="sapUiSmallMargin">

                <Label text="Facility Name" />
                <Input id="editFacilityName" value="{edit>/FacilityName}" editable="false" />
                <Label text="Unit Type" required="true" />
                <ComboBox editable="true" id="idUnitType" placeholder="Select Unit Type"  items="{RateType>/}" 
                value="{edit>/UnitText}" change="onUnitTextChange" width="100%" valueStateText="{i18n>selectRateType}">
                     <core:Item key="{RateType>ID}" text="{RateType>RateType}" />
                </ComboBox>
                <Label text="Start Time" visible="{= ${edit>/UnitText} === 'Per Hour' }" />
<TimePicker
    id="editStartTime"
    value="{edit>/StartTime}"
    displayFormat="HH:mm"
    valueFormat="HH:mm"
    change=".onTimeChange"
    visible="{= ${edit>/UnitText} === 'Per Hour' }"
/>
<Input value="{edit>/StartPeriod}" editable="false" visible="{= ${edit>/UnitText} === 'Per Hour' }" />

<Label text="End Time"  visible="{= ${edit>/UnitText} === 'Per Hour' }"/>
<TimePicker
    id="editEndTime"
    value="{edit>/EndTime}"
    displayFormat="HH:mm"
    valueFormat="HH:mm"
    change=".onTimeChange"
    visible="{= ${edit>/UnitText} === 'Per Hour' }"
/>
<Input value="{edit>/EndPeriod}" editable="false" visible="{= ${edit>/UnitText} === 'Per Hour' }"/>


<Label text="Total Time (HH:MM)" visible="{= ${edit>/UnitText} === 'Per Hour' }"/>
<Input
    id="editTotalTime"
    value="{edit>/TotalTime}"
    editable="false"
    visible="{= ${edit>/UnitText} === 'Per Hour' }"
/>


                <Label text="Facility Price" />
                <Input id="editPrice" value="{edit>/Price}" type="Number" editable="false" />

                <Label text="Currency" required="true" />
                <ComboBox
                    enabled="false"
                    id="FU_id_Currency"
                    selectedKey="{edit>/Currency}"
                    items="{CurrencyModel>/}"
                    valueStateText="Select Currency"
                    width="100%"
                    change=".onCurrecnyChange"
                    placeholder="Select Currency"
                >
                    <core:Item
                        key="{CurrencyModel>currency}"
                        text="{CurrencyModel>currency}"
                    />
                </ComboBox>

              <Label 
    text="How many Month/Year"  
    visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }" 
/>

<Select
    width="100%"
    visible="{= ${edit>/UnitText} !== 'Per Day' &amp;&amp; ${edit>/UnitText} !== 'Per Hour' }"
    selectedKey="{
        = ${edit>/UnitText} === 'Per Month' 
            ? ${edit>/TotalMonths} 
            : ${edit>/TotalYears}
    }"
>
    <core:Item key="1" text="1" />
    <core:Item key="2" text="2" />
    <core:Item key="3" text="3" />
    <core:Item key="4" text="4" />
    <core:Item key="5" text="5" />
    <core:Item key="6" text="6" />
    <core:Item key="7" text="7" />
    <core:Item key="8" text="8" />
    <core:Item key="9" text="9" />
    <core:Item key="10" text="10" />
    <core:Item key="11" text="11" />
    <core:Item key="12" text="12" />
</Select>


                <Label text="Start Date" />
                <DatePicker id="editStartDate" value="{edit>/StartDate}" displayFormat="dd/MM/yyyy" valueFormat="yyyy-MM-dd" change="onEditDateChange" />

                <Label text="End Date" />
                <DatePicker id="editEndDate" editable="{= ${edit>/UnitText} !== 'Per Month' &amp;&amp; ${edit>/UnitText} !== 'Per Year' }"  value="{path:'edit>/EndDate'}" displayFormat="dd/MM/yyyy" valueFormat="yyyy-MM-dd" change="onEditDateChange"  />

                <Label text="Days" />
                <Input id="editDays" value="{edit>/TotalDays}" editable="false" />
            </VBox>
        </content>

        <buttons>
            <Button text="Save" press=".onEditFacilitySave" type="Emphasized" />
            <Button text="Cancel" press="onEditDialogClose" />
        </buttons>
    </Dialog>
</core:FragmentDefinition>
