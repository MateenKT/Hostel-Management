<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    displayBlock="true"
    xmlns:g="sap.f">

    <Dialog id="idPaymentDialog"
        title="Proceed to Payment"
        draggable="true"
        resizable="true"
        class="paymentDialogRoot">

        <f:SimpleForm id="Exp_id_SimpleFrom"
            editable="true"
            layout="ResponsiveGridLayout"
            labelSpanXL="12"
            labelSpanL="12"
            labelSpanM="12"
            labelSpanS="12"
            columnsXL="2"
            columnsL="2"
            columnsM="1">

            <VBox>
                <!-- ===== GRAND TOTAL ===== -->
                <HBox>
                    <Label text="Grand Total :" class="sapUiTinyMargin" />
                    <Text text="{ path: 'HostelModel>/GrandTotal', formatter: '.Formatter.formatCurrency' }" />
                </HBox>

                <!-- ===== PAYMENT TYPE (Radio) ===== -->
                <Label text="Payment Type" design="Bold"/>
                <RadioButtonGroup
                    id="idPaymentTypeGroup"
                    columns="2"
                    select=".onPaymentTypeSelect"
                    selectedIndex="0"
                    class="paymentTypeGroup">
                    <RadioButton text="UPI" />
                    <RadioButton text="Credit / Debit Card" />
                </RadioButtonGroup>

                <!-- MAIN GRID -->
                <l:Grid defaultSpan="L6 M12 S12" hSpacing="2" vSpacing="2">

                    <!-- LEFT COLUMN -->
                    <VBox id="idLeftColumn" class="sapUiSmallMargin">

                        <!-- UPI SECTION -->
                        <VBox id="idUPISection" visible="true">
                            <Title text="UPI Payment" level="H4" />
                            <Image src="image/UPI.jpg" width="150px" class="UPIQRCodeBox" />
                            <Text text="Scan using any UPI app" />

                            <Label text="UPI ID" />
                            <Input id="idUPIID"
                                placeholder="Enter your UPI ID"
                                visible="true"
                                liveChange=".onChangeUPIID"
                                valueStateText="{i18n>enterUPIID}"
                                maxLength="25" />
                        </VBox>

                        <!-- CARD SECTION -->
                        <VBox id="idCardSection" visible="false">
                            <Label text="Card Number" />
                            <Input id="idCardNumber" maxLength="16" placeholder="Enter Card Number" />

                            <Label text="Expiry (MM/YY)" />
                            <Input id="idCardExpiry" maxLength="5" placeholder="MM/YY" />

                            <Label text="CVV" />
                            <Input id="idCardCVV" type="Password" maxLength="3" placeholder="***" />
                        </VBox>

                    </VBox>

                    <!-- RIGHT COLUMN -->
                    <VBox id="idRightPanel" class="sapUiSmallMargin">

                        <Title text="Payment Verification" level="H4" />

                        <Label text="Bank Name" required="true" />
                        <Input id="idBankName"
                            placeholder="Enter Bank Name"
                            liveChange=".onBankNameChange"
                            valueStateText="{i18n>enterBankName}"
                            maxLength="30" />

                        <Label text="Amount" required="true" />
                        <Input id="idAmount"
                            type="Number"
                            placeholder="Enter Amount"
                            liveChange=".onAmountChange"
                            valueStateText="{i18n>enterAmount}"
                            maxLength="15" />

                        <Label text="Currency" required="true" />
                        <ComboBox id="idCurrency"
                            items="{CurrencyModel>/}"
                            placeholder="Select Currency"
                            valueStateText="Select Currency"
                            change=".onCurrencyChange">
                            <core:Item key="{CurrencyModel>currency}" text="{CurrencyModel>currency}" />
                        </ComboBox>

                        <Label text="Payment Type" required="true" />
                        <Input id="idPaymentTypeField"
                            placeholder="Enter Payment Type"
                            liveChange=".onPaymentTypeChange"
                            valueStateText="{i18n>enterPaymentType}"
                            maxLength="20" />

                        <Label text="Bank Transaction ID" required="true" />
                        <Input id="idTransactionID"
                            placeholder="Enter Transaction ID"
                            liveChange=".onTransactionIDChange"
                            valueStateText="{i18n>enterTransactionID}"
                            maxLength="25" />

                        <Label text="Date" required="true" />
                        <DatePicker id="idPaymentDate"
                            displayFormat="dd/MM/yyyy"
                            valueFormat="dd/MM/yyyy"
                            change=".onPaymentDateChange"
                            valueStateText="{i18n>selectPaymentDate}" />
                    </VBox>

                </l:Grid>

            </VBox>

        </f:SimpleForm>

        <!-- FOOTER -->
        <footer>
            <Toolbar>
                <ToolbarSpacer />
                <Button text="Submit Payment" type="Emphasized" press=".onSubmitPress" />
                <Button text="Cancel" press=".onPaymentClose" />
            </Toolbar>
        </footer>

    </Dialog>

</core:FragmentDefinition>
