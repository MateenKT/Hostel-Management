<c:FragmentDefinition
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:mvc="sap.ui.core.mvc"
>
    <Dialog
        id="FacilitiesDialog"
        title="Add facilities"
        type="Message"
        class="sapUiContentPadding"
        resizable="true"
        draggable="true"
        contentWidth="40%"
        contentHeight="auto"
    >
        <f:SimpleForm
            editable="true"
            layout="ResponsiveGridLayout"
            labelSpanXL="4"
            labelSpanL="3"
            labelSpanM="4"
            labelSpanS="12"
            columnsXL="2"
            columnsL="2"
            columnsM="1"
        >
            <f:content>
                <Label
                    text="Branch Code"
                    required="true"
                />
                <ComboBox
                    id="idRoomType123"
                    placeholder="Select branch Code"
                    selectedKey="{FacilitiesModel>/BranchCode}"
                    items="{BranchModel>/}"
                    showSecondaryValues="true"
                    change=".onFacilitybranchChange"
                >
                    <core:ListItem
                        key="{BranchModel>BranchID}"
                        text="{BranchModel>BranchID}"
                        additionalText="{BranchModel>Name}"
                    />
                </ComboBox>

                <Label
                    text="Facility Name"
                    required="true"
                />
                <Input
                    id="idFacilityName"
                    value="{FacilitiesModel>/FacilityName}"
                    placeholder="Enter Facility Name"
                />

                <Label
                    text="Type"
                    required="true"
                />
                <ComboBox
                    id="idFacilityName1"
                    items="{FacilityType>/}"
                    value="{FacilitiesModel>/Type}"
                    placeholder="Enter Type"
                >
                    <core:Item
                        key="{FacilityType>ID}"
                        text="{FacilityType>FacilityName}"
                    />
                </ComboBox>

                <Label
                    text="Price"
                    required="true"
                />
                <HBox width="100%">
                    <VBox width="50%">
                        <Input
                            id="FO_id_Price"
                            placeholder="Enter Price"
                            value="{FacilitiesModel>/Price}"
                        />
                    </VBox>
                    <VBox width="50%">
                        <ComboBox
                            id="FO_id_Rate"
                            items="{RateType>/}"
                            value="{FacilitiesModel>/UnitText}"
                        >
                            <core:Item
                                key="{RateType>ID}"
                                text="{RateType>RateType}"
                            />
                        </ComboBox>
                    </VBox>
                </HBox>

                <Label
                    text="Currency"
                    required="true"
                />
                <ComboBox
                    id="FL_id_Currency"
                    selectedKey="{FacilitiesModel>/Currency}"
                    items="{CurrencyModel>/}"
                    placeholder="Select Currency"
                >
                    <c:Item
                        key="{CurrencyModel>currency}"
                        text="{CurrencyModel>currency}"
                    />
                </ComboBox>
                 <Label
                    text="Add Image"
                    required="true"
                />
                <Table
                    id="id_AttachmentTable"
                    items="{UploaderData>/attachments}"
                    mode="Delete"
                    delete="onTokenDelete"
                    width="100%"
                    popinLayout="Block"
                >
                    <headerToolbar>
                        <OverflowToolbar>
                                <u:FileUploader
                                    id="id_fileUploader"
                                    buttonOnly="true"
                                    buttonText="Upload Images"
                                    fileType="jpg,jpeg,png"
                                    multiple="true"
                                    change="onFacilityFileChange"
                                />
                        </OverflowToolbar>
                    </headerToolbar>

                    <columns>
                        <Column>
                            <Text text="File Name" />
                        </Column>
                        <Column hAlign="Center">
                            <Text text="File Type" />
                        </Column>
                        <Column hAlign="Center">
                            <Text text="File Size" />
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{UploaderData>filename}" />
                                <Text text="{UploaderData>fileType}" />
                                <Text text="{UploaderData>size}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </f:content>
        </f:SimpleForm>

        <footer>
            <Toolbar>
                <ToolbarSpacer />
                <Button
                    text="Save"
                    type="Accept"
                    press="FD_onsavebuttonpress"
                />
                <Button
                    text="Cancel"
                    type="Reject"
                    press="FD_onCancelButtonPress"
                />
            </Toolbar>
        </footer>
    </Dialog>
</c:FragmentDefinition>