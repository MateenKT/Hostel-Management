<core:FragmentDefinition 
	xmlns="sap.m" 
	xmlns:core="sap.ui.core" 
	xmlns:f="sap.ui.layout.form" 
	xmlns:l="sap.ui.layout">
	<Dialog id="authDialog" draggable="true" resizable="true" class="authDialog">
		<customHeader>
			<Bar>
				<contentMiddle>
					<Title text="Hostel Access Portal" />
				</contentMiddle>
				<contentRight>
					<Button type="Transparent" icon="sap-icon://decline" press="onDialogClose" />
				</contentRight>
			</Bar>
		</customHeader>
		<VBox>
			<!-- Switch Button -->
			<HBox justifyContent="Center" class="switch-toggle-container">
				<Button text="SIGN IN" type="Transparent" class="switch-toggle-btn {= ${LoginViewModel>/selectedAccountType} === 'personal' ? 'active' : 'inactive'}" press="onSwitchToSignIn" />
				<Button id="signupvisible" text="SIGN UP" type="Transparent" class="switch-toggle-btn {= ${LoginViewModel>/selectedAccountType} === 'biz' ? 'active' : 'inactive'}" press="onSwitchToSignUp" />
			</HBox>
			<!-- Sign In Panel -->
			<Panel id="signInPanel" expandable="false">
				<VBox>
					<Label text="User ID" required="true" />
					<Input id="signInuserid" placeholder="User ID" type="Email" width="100%" required="true" liveChange="onUserlivechange" valueStateText="Enter ID" />
					<Label text="User Name" required="true" />
					<Input id="signInusername" placeholder="User Name" type="Email" width="100%" required="true" liveChange="onUserlivechange" valueStateText="Enter Name" />
					<Label text="Login with" />
					<HBox alignItems="End" justifyContent="Start">
						<RadioButton text="Password" class="sapUiTinyMarginEnd " selected="{LoginViewModel>/isPasswordSelected}" />
						<RadioButton text="OTP" class="sapUiTinyMarginEnd " selected="{LoginViewModel>/isOtpSelected}" />
						<Button text="Send OTP" press="onPressOTP" />
					</HBox>
					<Label text="Password" id="id_frgnewpass" required="true" />
					<Input id="signinPassword" placeholder="Enter Password" valueState="{}" type="Password" liveChange="SM_onChnageSetAndConfirm" showValueHelp="true" valueStateText="Enter Password" valueHelpIconSrc="sap-icon://show" valueHelpRequest="SM_onTogglePasswordVisibility" submit="onSignIn" maxLength="50" />
					<HBox justifyContent="SpaceBetween" class="sapUiTinyMarginTop">
						<Button text="Forgot Password?" type="Transparent" press="onForgotPassword" />
						<Button text="Sign In" type="Accept" width="100px" press="onSignIn" />
					</HBox>
				</VBox>
			</Panel>
			<!-- Sign Up Panel -->
			<Panel id="signUpPanel" expandable="false" visible="false">
				<content>
					<f:SimpleForm id="signUpForm" editable="true" layout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="3" emptySpanL="1" emptySpanM="1" columnsL="2" columnsM="1" class="sapUiNoContentPadding sapUiSmallMarginTop">
						<HBox width="100%" alignItems="Center" justifyContent="Start">
							<VBox width="20%">
								<Label text="Salutation" required="true"/>
								<ComboBox id="signUpSalutation" selectedKey="" change="onChangeSalutation" placeholder="Select" valueStateText="Select Salutation">
									<core:ListItem key="Mr." text="Mr."/>
									<core:ListItem key="Ms." text="Ms."/>
									<core:ListItem key="Mrs." text="Mrs."/>
									<core:ListItem key="Dr." text="Dr."/>
								</ComboBox>
							</VBox>
							<VBox width="80%" class="sapUiTinyMarginBegin">
								<Label text="Full Name" required="true"/>
								<Input id="signUpName" value="{LoginMode>/fullname}" placeholder="Full Name" required="true" liveChange="_LCvalidateName" valueStateText="Enter valid name"/>
							</VBox>
						</HBox>
						<!-- Row 2: Email (full width) -->
						<Label text="Email" required="true" />
						<Input id="signUpEmail" value="{LoginMode>/Email}" placeholder="Email" type="Email" required="true" liveChange="onEmailliveChange" valueStateText="Enter valid email" />
						<Label text="Create Password" required="true" />
						<Input id="signUpPassword" placeholder="Enter Password" value="{LoginMode>/password}" valueState="{LoginViewModel>/frgNewPasswordValueState}" type="Password" liveChange="SM_onChnageSetAndConfirm" showValueHelp="true" valueStateText="Password must contain 1 uppercase, 1 lowercase, 1 number &amp; 1 special character" valueHelpIconSrc="sap-icon://show" valueHelpRequest="SM_onTogglePasswordVisibility" maxLength="50" />
						<Label text="Confirm Password" required="true" />
						<Input id="signUpConfirmPassword" placeholder="Enter Confirm Password" value="{LoginMode>/comfirmpass}" valueState="{}" type="Password" change="FSM_onConfirm" showValueHelp="true" valueStateText="Enter Confirm Password" valueHelpIconSrc="sap-icon://show" valueHelpRequest="SM_onTogglePasswordVisibility" maxLength="50" liveChange="FSM_onConfirm" />
						<!-- DOB, GENDER -->
						<Label text="Date Of Birth" required="true"/>
						<DatePicker id="signUpDOB" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-dd" change="onChangeDOB" />
						<Label text="Gender" required="true"/>
						<Select id="signUpGender" selectedKey="" change="onChangeGender">
							<core:Item key="" text="Select Gender" />
							<core:Item key="Male" text="Male"/>
							<core:Item key="Female" text="Female"/>
							<core:Item key="Other" text="Other"/>
						</Select>
						<!-- 
						<ComboBox id="signUpCountry" change="onChangeCountry" selectedKey="{LoginMode>/Country}" placeholder="Select Country" valueStateText="Select Country" items="{path:'CountryModel>/', length:1000}" showSecondaryValues="true"><core:ListItem key="{CountryModel>countryName}" text="{CountryModel>countryName}" additionalText="{CountryModel>code}" /></ComboBox><Label text="State" required="true"/><ComboBox id="signUpState" change="onChangeState" selectedKey="{LoginMode>/State}" placeholder="Select State" valueStateText="Select State" items="{path:'StateModel>/', length:1000}" showSecondaryValues="true"><core:ListItem key="{StateModel>stateName}" text="{StateModel>stateName}"/></ComboBox><Label text="City" required="true"/><ComboBox id="signUpCity" change="onChangeCity" selectedKey="{LoginMode>/City}" placeholder="Select City" valueStateText="Select City" items="{path:'CityModel>/', length:1000}" showSecondaryValues="true"><core:ListItem key="{CityModel>cityName}" text="{CityModel>cityName}" additionalText="{CityModel>branchCode}" /></ComboBox> -->
						<!-- COUNTRY -->
						<Label text="Country" required="true"/>
						<ComboBox id="signUpCountry" change="onChangeCountry" selectionChange="onChangeCountry" placeholder="Select Country" valueStateText="Select a valid Country" items="{path:'CountryModel>/', length:1000}" showSecondaryValues="true">
							<core:ListItem key="{CountryModel>countryName}" text="{CountryModel>countryName}" additionalText="{CountryModel>code}"/>
						</ComboBox>
						<!-- STATE -->
						<Label text="State" required="true"/>
						<ComboBox id="signUpState" change="onChangeState" selectionChange="onChangeState" placeholder="Select State" valueStateText="Select a valid State" items="{path:'StateModel>/', length:1000}" showSecondaryValues="true">
							<core:ListItem key="{StateModel>stateName}" text="{StateModel>stateName}"/>
						</ComboBox>
						<!-- CITY -->
						<Label text="City" required="true" />
						<ComboBox id="signUpCity" change="onChangeCity" selectionChange="onChangeCity" placeholder="Select City" valueStateText="Select a valid City" items="{path:'CityModel>/', length:1000}" showSecondaryValues="true">
							<core:ListItem key="{CityModel>cityName}" text="{CityModel>cityName}" additionalText="{CityModel>branchCode}"/>
						</ComboBox>
						<Label text="Mobile Number" required="true"/>
						<HBox width="100%" justifyContent="Start" alignItems="Center">
							<!-- STD ComboBox -->
							<VBox width="26%">
								<ComboBox id="signUpSTD" selectedKey="{LoginMode>/STDCode}" placeholder="Code" valueStateText="Select Code" showSecondaryValues="true" items="{path:'CountryModel>/', length:1000}">
									<core:ListItem key="{CountryModel>stdCode}" text="{CountryModel>stdCode}" additionalText="{CountryModel>code}" />
								</ComboBox>
							</VBox>
							<!-- Phone Input -->
							<VBox width="74%">
								<Input id="signUpPhone" value="{LoginMode>/Mobileno}" placeholder="Enter Contact Number" maxLength="18" liveChange="onMobileLivechnage" valueStateText="Enter a valid mobile number" required="true" />
							</VBox>
						</HBox>
						<Label text="Address" required="true"/>
						<TextArea id="signUpAddress" rows="3" value="{LoginMode>/Address}" liveChange="onAddressChange" placeholder="Address" />
					</f:SimpleForm>
					<!-- Sign Up Button -->
					<HBox justifyContent="End" class="sapUiSmallMarginTop">
						<Button text="Sign Up" type="Emphasized" width="120px" press="onSignUp" />
					</HBox>
				</content>
			</Panel>
		</VBox>
	</Dialog>
</core:FragmentDefinition>