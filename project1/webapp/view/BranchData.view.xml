<mvc:View
    controllerName="sap.ui.com.project1.controller.BranchData"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
    displayBlock="true"
    busyIndicatorDelay="0"
>
    <Page
        showHeader="true"
        class="sapUiContentPadding"
    >
        <headerContent>
            <core:Fragment
                fragmentName="sap.ui.com.project1.fragment.Header"
                type="XML"
            />
        </headerContent>

        <content>
            <fb:FilterBar
                id="MD_id_Filterbar"
                persistencyKey="myPersKey"
                useToolbar="false"
                clear="MD_onPressClear"
                showClearOnFB="true"
                search="MD_onSearch"
                showFilterConfiguration="false"
                filterContainerWidth="auto"
            >
                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        name="Branch Code"
                        label="Branch Code"
                        groupName="Group"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <ComboBox
                                id="MD_id_BranchCode"
                                items="{mainModel>/}"
                                showSecondaryValues="true"
                                showClearIcon="true"
                                width="100%"
                            >
                                <core:ListItem
                                    key="{mainModel>BranchID}"
                                    text="{mainModel>BranchID}"
                                    additionalText="{mainModel>Name}"
                                />
                            </ComboBox>
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>

                <fb:filterGroupItems>
                    <fb:FilterGroupItem
                        name="Pincode"
                        label="Pin Code"
                        groupName="Group"
                        visibleInFilterBar="true"
                    >
                        <fb:control>
                            <ComboBox
                                id="MD_id_Pincode"
                                items="{mainModel>/}"
                                showClearIcon="true"
                                width="100%"
                            >
                                <core:ListItem
                                    key="{mainModel>Pincode}"
                                    text="{mainModel>Pincode}"
                                />
                            </ComboBox>
                        </fb:control>
                    </fb:FilterGroupItem>
                </fb:filterGroupItems>
            </fb:FilterBar>
            <Table
                id="id_MD_Table"
                mode="MultiSelect"
                sticky="ColumnHeaders,HeaderToolbar"
                growing="true"
                growingThreshold="100"
                alternateRowColors="true"
                selectionChange="MC_onTableSelectionChange"
                class="sapUiTinyMarginTop"
                items="{mainModel>/}"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <Title
                            text="Branch Details ({= ${mainModel>/}.length})"
                        />
                        <ToolbarSpacer />

                        <Button
                            text="Add"
                            press="MD_AddButtonPress"
                            type="Accept"
                        />
                        <Button
                            text="Edit"
                            press="MD_UpdateTableRow"
                            type="Ghost"
                        />
                        <Button
                            text="Delete"
                            press="MD_DeleteRow"
                            type="Reject"
                        />
                        <Button
                            text="Download"
                            press="MD_onDownload"
                            type="Transparent"
                        />
                    </OverflowToolbar>
                </headerToolbar>

                <columns>
                    <Column demandPopin="true">
                        <Text text="Branch Code" />
                    </Column>

                    <Column
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text text="Branch Name" />
                    </Column>

                    <Column
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text text="Address" />
                    </Column>

                    <Column
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text text="Pin Code" />
                    </Column>

                    <Column
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text text="Contact Number" />
                    </Column>

                    <Column demandPopin="true">
                        <Text text="Country" />
                    </Column>

                    <Column demandPopin="true">
                        <Text text="State" />
                    </Column>

                    <Column demandPopin="true">
                        <Text text="City" />
                    </Column>
                </columns>

                <items>
                    <ColumnListItem>
                        <cells>
                            <Text text="{mainModel>BranchID}" />
                            <Text text="{mainModel>Name}" />
                            <Text text="{mainModel>Address}" />
                            <Text text="{mainModel>Pincode}" />
                            <Text text="{mainModel>STD} {mainModel>Contact}" />
                            <Text text="{mainModel>Country}" />
                            <Text text="{mainModel>State}" />
                            <Text text="{mainModel>City}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
</mvc:View>