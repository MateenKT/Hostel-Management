<mvc:View
    controllerName="sap.ui.com.project1.controller.Book_RoomSummary"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:layout="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:object="sap.uxap"
>
    <VBox class="sapUiMediumMarginBottom">
        <core:Fragment
            fragmentName="sap.ui.com.project1.fragment.GeneralInfoDisplay"
            type="XML"
        />
    </VBox>

    <!-- Personal Info Section -->
    <List
        id="idPersonalSummaryList"
        items="{
            path: 'HostelModel>/Persons'
        }"
        inset="false"
    >
        <CustomListItem>
            <core:Fragment
                fragmentName="sap.ui.com.project1.fragment.PersonalInfoDisplay"
                type="XML"
                binding="{HostelModel>}"
            />
            
        </CustomListItem>
    </List>
   <Table
    id="idGrandTotalSummaryTable"
    visible="{HostelModel>/ShowSummary}"
    items="{
        path: 'HostelModel>/Persons'
    }"
>

    <headerToolbar>
        <Toolbar>
            <Title text="Grand Total Summary" />
        </Toolbar>
    </headerToolbar>

    <columns>
        <Column><Text text="Person Name" /></Column>
        <Column><Text text="Facility Cost" /></Column>
        <Column><Text text="Room Rent" /></Column>
        <Column><Text text="Total" /></Column>
    </columns>

    <items>
        <ColumnListItem>
            <cells>
                <Text text="{HostelModel>FullName}" />
                <Text text="{parts: [
        'HostelModel>TotalFacilityPrice',
        'HostelModel>/Currency'
    ],formatter: '.Formatter.formatCurrency'}" />
                <Text text="{parts: [
        'HostelModel>RoomRentPerPerson',
        'HostelModel>/Currency'
    ],formatter: '.Formatter.formatCurrency'}" />
                <Text class="totalColumnBold" text="{ parts: [
        'HostelModel>GrandTotal',
        'HostelModel>/Currency'
    ],formatter: '.Formatter.formatCurrency'}" />
            </cells>
        </ColumnListItem>
    </items>

</Table>
      
      <FlexBox class="custom-flexbox"
                                        direction="Column">
        <!-- Totals for THIS person (NOTE: all RELATIVE, no leading "/") -->
        <VBox class="sapUiSmallMarginTop custom-vbox">
         <HBox  width="100%" justifyContent="End" alignItems="Center" class="sapUiSmallMarginBottom"
                                visible="{VisibleModel>/visible}"
                               >
 
    <!-- Coupon Label -->
    <Label
        text="Coupon Code:"
        class="totalColumnBold1 sapUiTinyMarginEnd"
        width="120px"
    />
 
    <!-- Coupon Input -->
    <Input
        value="{HostelModel>/CouponCode}"
        placeholder="Enter coupon"
        width="150px"
        class="sapUiTinyMarginEnd"
        id="BookingcouponInput"
      showValueHelp="true"
    valueHelpIconSrc="sap-icon://decline"
    valueHelpRequest="oncancelCoupon"
    liveChange="onCouponLiveChange"
    />
 
    <!-- Apply Now Button -->
    <Button
        text="Apply Now"
        type="Emphasized"
        press="onChangeCouponCode"
        class="sapUiTinyMarginEnd"
        id="couponApplyBtn"
        visible="{}"
    />
</HBox>
<HBox justifyContent="End" >
    <Label text="Discount:" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text 
        text="{
            parts: ['HostelModel>/AppliedDiscount','HostelModel>/Currency'],
            formatter: '.Formatter.formatCurrency'
        }"
        class="totalColumnBold1"
    />
</HBox>
           <HBox justifyContent="End" 
      visible="{= !${HostelModel>/IsIndia} }">
    <Label text="Sub-Total (Non-Taxable):" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text text="{   parts: [
        'HostelModel>/OverallTotalCost',
        'HostelModel>/Currency'
    ], formatter: '.Formatter.formatCurrency'}"  class="totalColumnBold1"/>
</HBox>

            <HBox justifyContent="End" class="sapUiSmallMarginTop" 
      visible="{HostelModel>/IsIndia}">
    <Label text="Sub-Total (Taxable):" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text text="{ parts: [
        'HostelModel>/OverallTotalCost',
        'HostelModel>/Currency'
    ], formatter: '.Formatter.formatCurrency'}"  class="totalColumnBold1"/>
</HBox>

            <HBox justifyContent="End" class="sapUiSmallMarginTop"
      visible="{HostelModel>/IsIndia}">
    <Label text="CGST (9%):" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text text="{parts:['HostelModel>/CGST','HostelModel>/Currency'], formatter: '.Formatter.formatCurrency'}"  class="totalColumnBold1"/>
</HBox>

            <HBox justifyContent="End" class="sapUiSmallMarginTop"
      visible="{HostelModel>/IsIndia}">
    <Label text="SGST (9%):" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text text="{parts:['HostelModel>/SGST','HostelModel>/Currency'], formatter: '.Formatter.formatCurrency'}"  class="totalColumnBold1" />
</HBox>

            <HBox justifyContent="End" class="sapUiSmallMarginTop">
    <Label text="Total Cost:" class="totalColumnBold1 sapUiSmallMarginEnd"/>
    <Text text="{parts:['HostelModel>/FinalTotalCost','HostelModel>/Currency'], formatter: '.Formatter.formatCurrency'}" class="totalColumnBold1" />
</HBox>

           
        </VBox>
        </FlexBox>
     <!--<VBox class="sapUiMediumMarginBottom">
        <VBox
            visible="{= ${oTCModel>/Visiblity/Services/TrafficManagement} || ${oTCModel>/Visiblity/Services/TrafficManagementVehicles} }"
        >
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.PermitDisp"
                type="XML"
            />
        </VBox>
        <VBox
            visible="{= ${oTCModel>/Visiblity/Services/TrafficManagement} || ${oTCModel>/Visiblity/Services/TrafficManagementVehicles} }"
        >
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.NonSpecificServiceDisp"
                type="XML"
            />
        </VBox>
        <VBox visible="{oTCModel>/Visiblity/Services/TrafficManagement}">
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.TrafficManagementDisp"
                type="XML"
            />
        </VBox>

        <VBox
            visible="{oTCModel>/Visiblity/Services/TrafficManagementVehicles}"
        >
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.TrafficControlVehiclesDisp"
                type="XML"
            />
        </VBox>

        <VBox visible="{oTCModel>/Visiblity/Services/TrafficEquipment}">
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.TrafficEquipmentDisp"
                type="XML"
            />
        </VBox>

        <VBox visible="{oTCModel>/Visiblity/Services/SiteChecks}">
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.SiteChecksDisp"
                type="XML"
            />
        </VBox>

        <VBox visible="{oTCModel>/Visiblity/Services/Aftercare}">
            <core:Fragment
                fragmentName="com.sap.winslow.customerportal.customerportal.fragment.Traffic_Control.AftercareDisp"
                type="XML"
            />
        </VBox> -->

       
    <!-- </VBox> -->
</mvc:View>
