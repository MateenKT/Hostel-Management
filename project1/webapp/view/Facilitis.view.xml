<mvc:View
    controllerName="sap.ui.com.project1.controller.Facilitis"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:m="sap.m"
	xmlns:c="sap.ui.core"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:core="sap.ui.core"
    displayBlock="true"
    height="100%"
    busyIndicatorDelay="0"
>
	<Page showHeader="true">
		<headerContent>
			<core:Fragment
                fragmentName="sap.ui.com.project1.fragment.Header"
                type="XML"
            />
		</headerContent>
		<content>
			<fb:FilterBar
                id="FO_id_FilterbarEmployee"
                persistencyKey="myPersKey"
                useToolbar="false"
                clear="FC_onPressClear"
                showClearOnFB="true"
                search="FC_onSearch"
                filterChange="IA_.onFilterChange"
                afterVariantLoad="IA_.onAfterVariantLoad"
                showFilterConfiguration="false"
                filterContainerWidth="auto"
            >
				<fb:filterGroupItems>
					<fb:FilterGroupItem
                        name="Facility Name"
                        label="Facility Name"
                        groupName="Group"
                        visibleInFilterBar="true"
                    >
						<fb:control>
							<ComboBox
                                id="FN_id_FacilityName"
                                items="{Facilities>/}"
                                showClearIcon="true" busyIndicatorDelay="0"
                            >
								<core:Item
                                    key="{Facilities>FacilityName}"
                                    text="{Facilities>FacilityName}"
                                />
							</ComboBox>
						</fb:control>
					</fb:FilterGroupItem>
				</fb:filterGroupItems>
				<fb:filterGroupItems>
					<fb:FilterGroupItem
                        name="Branch Code"
                        label="Branch Code"
                        groupName="Group"
                        visibleInFilterBar="true" 
                    >
						<fb:control>
							<ComboBox
                                id="FN_id_BranchCode"
                                items="{Facilities>/}"
                                showClearIcon="true" busyIndicatorDelay="0"
                            >
								<core:ListItem
                                    key="{Facilities>BranchCode}"
                                    text="{Facilities>BranchCode}"
                                />
							</ComboBox>
						</fb:control>
					</fb:FilterGroupItem>
				</fb:filterGroupItems>
			</fb:FilterBar>
			<Table
                id="id_facilityTable"
                sticky="ColumnHeaders,HeaderToolbar"
                mode="MultiSelect"
                width="auto"
                busyIndicatorDelay="0"
                class="sapUiResponsiveMargin"
                items="{path: 'Facilities>/', sorter: {path: 'BranchCode',descending: false,group: true}}">
				<headerToolbar>
					<OverflowToolbar>
						<Title text="Facilities ({=${Facilities>/}.length})" />
						<ToolbarSpacer />
						<Button text="Add Facility" press="FD_RoomDetails" type="Accept"/>
						<Button text="Delete" press="HM_DeleteDetails" type="Reject"/>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column demandPopin="true">
						<Text text="Facility Name" />
					</Column>
					<Column demandPopin="true">
						<Text text="Type" />
					</Column>
					<Column demandPopin="true">
						<Text text="Hourly Price" />
					</Column>
					<Column demandPopin="true">
						<Text text="Daily Price" />
					</Column>
					<Column demandPopin="true">
						<Text text="Monthly Price" />
					</Column>
					<Column demandPopin="true">
						<Text text="Yearly Price" />
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press="FD_onFacilityRowPress">
						<cells>
							<Text text="{Facilities>FacilityName}" />
							<Text text="{Facilities>Type}" />
							<Text text="{= ${Facilities>PerHourPrice} ? ${Facilities>PerHourPrice} + ' ' + ${Facilities>Currency} : '' }" />
							<Text text="{= ${Facilities>PerDayPrice} ? ${Facilities>PerDayPrice} + ' ' + ${Facilities>Currency} : '' }" />
							<Text text="{= ${Facilities>PerMonthPrice} ? ${Facilities>PerMonthPrice} + ' ' + ${Facilities>Currency} : '' }" />
							<Text text="{= ${Facilities>PerYearPrice} ? ${Facilities>PerYearPrice} + ' ' + ${Facilities>Currency} : '' }" />
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>
